{% extends 'ligas/base_admin.html' %}
{% block title %}Equipos{% endblock %}
{% block header %}Equipos{% endblock %}
{% block breadcrumbs %}<a href="/">Inicio</a> / Administración / Equipos{% endblock %}
{% block actions %}
  <form method="get" class="searchbar" action="">
    <input type="text" name="q" value="{{ request.GET.q }}" placeholder="Buscar por club, categoría o alias...">
    <button class="btn" type="submit">Buscar</button>
  </form>
  {% if perms.ligas.add_equipo %}
    <a class="btn js-open-modal" data-modal-title="Generar equipos" href="{% url 'ligas:equipo_generate' %}">Generar</a>
    <a class="btn primary js-open-modal" data-modal-title="Nuevo equipo" href="{% url 'ligas:equipo_create' %}">Nuevo equipo</a>
  {% endif %}
{% endblock %}
{% block content %}
  <div id="listContainer">
  <table data-enhanced-list>
    <thead>
      <tr>
        <th data-sort="text" data-filter="text">Club</th>
        <th data-sort="text" data-filter="text">Categoría</th>
        <th data-sort="text" data-filter="text">Alias</th>
        <th data-sortable="false">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for obj in object_list %}
      <tr>
        <td>{{ obj.club }}</td>
        <td>{{ obj.categoria }}</td>
        <td>{{ obj.alias }}</td>
        <td>
          {% if perms.ligas.view_equipo %}<a class="btn" href="{% url 'ligas:equipo_detail' obj.pk %}">Detalles</a>{% endif %}
          {% if perms.ligas.change_equipo %}<a class="btn js-open-modal" data-modal-title="Editar equipo" href="{% url 'ligas:equipo_update' obj.pk %}">Editar</a>{% endif %}
          {% if perms.ligas.delete_equipo %}<a class="btn danger js-open-modal" data-modal-title="Eliminar equipo" href="{% url 'ligas:equipo_delete' obj.pk %}">Eliminar</a>{% endif %}
        </td>
      </tr>
      {% empty %}
      <tr class="empty-row"><td colspan="4">No hay equipos.</td></tr>
      {% endfor %}
    </tbody>
  </table>
  {% include 'ligas/administracion/_table_footer.html' %}
  </div>
{% endblock %}
